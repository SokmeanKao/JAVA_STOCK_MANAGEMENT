package view;import model.Product;import org.nocrala.tools.texttablefmt.BorderStyle;import org.nocrala.tools.texttablefmt.CellStyle;import org.nocrala.tools.texttablefmt.ShownBorders;import org.nocrala.tools.texttablefmt.Table;import java.text.ParseException;import java.text.SimpleDateFormat;import java.util.Date;import java.util.List;import java.util.Scanner;import java.util.stream.Collectors;public class ProductView {    private Scanner scanner;    public ProductView() {        scanner = new Scanner(System.in);    }    //Display products list    public void displayProductList(List<Product> productList) {        CellStyle centerTb= new CellStyle(CellStyle.HorizontalAlign.center);        Table table= new Table(5, BorderStyle.UNICODE_BOX_DOUBLE_BORDER_WIDE, ShownBorders.ALL);        table.setColumnWidth(0,15,15);        table.setColumnWidth(1,15,15);        table.setColumnWidth(2,15,15);        table.setColumnWidth(3,15,15);        table.setColumnWidth(4,15,15);        table.addCell("Product List",centerTb,5);        table.addCell("ID",centerTb);        table.addCell("Name",centerTb);        table.addCell("Unit_Price",centerTb);        table.addCell("Qty",centerTb);        table.addCell("Imported Date",centerTb);        productList.forEach(display -> {            table.addCell(" "+display.getId(),centerTb);            table.addCell(" "+display.getName(),centerTb);            table.addCell("$"+display.getUnitPrice(),centerTb);            table.addCell(" "+display.getStockQuantity(),centerTb);            table.addCell(" "+display.getImportedDate(),centerTb);        });        System.out.println(table.render());    }    public void displayUnsavedProducts(List<Product> unsavedProducts) {        if (unsavedProducts.isEmpty()) {            System.out.println("No unsaved products.");        } else {            System.out.println("Unsaved Products:");            for (Product product : unsavedProducts) {                displayProduct(product);            }        }    }    public Product getUnsavedProductFromUser() {        System.out.println("Enter Product Details:");        System.out.print("Name: ");        String name = scanner.nextLine();        System.out.print("Unit Price: ");        double unitPrice = scanner.nextDouble();        System.out.print("Stock Quantity: ");        int stockQuantity = scanner.nextInt();        String dateString = scanner.nextLine();        Date importedDate = parseDate(dateString);        return new Product(name, unitPrice, stockQuantity, importedDate);    }    public int getProductIDFromUser() {        System.out.print("Enter Product ID: ");        return scanner.nextInt();    }    public Product getUpdatedProductDetails(Product existingProduct) {        System.out.println("Enter Updated Product Details:");        System.out.print("Name [" + existingProduct.getName() + "]: ");        String name = scanner.nextLine();        if (name.isEmpty()) {            name = existingProduct.getName();        }        scanner.nextLine();        System.out.print("Unit Price [" + existingProduct.getUnitPrice() + "]: ");        String unitPriceInput = scanner.nextLine();        double unitPrice = unitPriceInput.isEmpty() ? existingProduct.getUnitPrice() : Double.parseDouble(unitPriceInput);        System.out.print("Stock Quantity [" + existingProduct.getStockQuantity() + "]: ");        String stockQuantityInput = scanner.nextLine();        int stockQuantity = stockQuantityInput.isEmpty() ? existingProduct.getStockQuantity() : Integer.parseInt(stockQuantityInput);        System.out.print("Imported Date (yyyy-MM-dd) [" + formatDate(existingProduct.getImportedDate()) + "]: ");        String dateString = scanner.nextLine();        Date importedDate = dateString.isEmpty() ? existingProduct.getImportedDate() : parseDate(dateString);        return new Product(name, unitPrice, stockQuantity, importedDate);    }    public List<Product> searchProductsByName(List<Product> productList, String name) {        return productList.stream()                .filter(product -> product.getName().toLowerCase().contains(name.toLowerCase()))                .collect(Collectors.toList());    }    public int getRowsPerPageFromUser() {        System.out.print("Enter Number of Rows Per Page: ");        return scanner.nextInt();    }    public int getPageNumberFromUser() {        System.out.print("Enter Target Page Number: ");        return scanner.nextInt();    }    public void displayProduct(Product product) {        CellStyle centerdb= new CellStyle(CellStyle.HorizontalAlign.center);        Table table= new Table(1, BorderStyle.UNICODE_BOX);        if (product != null) {            table.setColumnWidth(0,40,10);            table.addCell("Product Details",centerdb);            table.addCell("ID: " + product.getId());            table.addCell("Name: " + product.getName());            table.addCell("Unit Price: " + product.getUnitPrice());            table.addCell("Stock Quantity: " + product.getStockQuantity());            table.addCell("Imported Date: " + formatDate(product.getImportedDate()));            System.out.println(table.render());        } else {            table.setColumnWidth(0,40,10);            table.addCell("Product not found!", centerdb);            System.out.println(table.render());        }        System.out.print("-> Press Enter to Continue...");        scanner.nextLine();    }    public void displayProductDelete(List<Product> productList){        if(productList == null){            CellStyle centerTb= new CellStyle(CellStyle.HorizontalAlign.center);            Table table= new Table(5, BorderStyle.UNICODE_BOX_DOUBLE_BORDER_WIDE, ShownBorders.ALL);            table.setColumnWidth(0,10,15);            table.setColumnWidth(1,20,15);            table.setColumnWidth(2,20,15);            table.setColumnWidth(3,20,15);            table.setColumnWidth(4,20,15);            table.addCell("Product List",centerTb,5);            table.addCell("ID",centerTb);            table.addCell("Name",centerTb);            table.addCell("Unit_Price",centerTb);            table.addCell("Qty",centerTb);            table.addCell("Imported Date",centerTb);            productList.stream().forEach(display -> {                table.addCell(" "+display.getId(),centerTb);                table.addCell(" "+display.getName(),centerTb);                table.addCell(" "+display.getUnitPrice(),centerTb);                table.addCell(" "+display.getStockQuantity(),centerTb);                table.addCell(""+display.getImportedDate(),centerTb);            });            System.out.println(table.render());        }    }    //HelpDisplay    public void helpDisplay(){        Table helpTable = new Table(1,BorderStyle.CLASSIC_COMPATIBLE_LIGHT_WIDE,ShownBorders.SURROUND);        helpTable.addCell(" 1.  Press    * : Display All Records Of Products                        ");        helpTable.addCell(" 2.  Press    w : Add New Product                                        ");        helpTable.addCell("     Press    w ⟶#proname-unitprice-qty : shortcut for add new product   ");        helpTable.addCell(" 3.  Press    r : Read product detail                                    ");        helpTable.addCell("     Press    r ⟶#proId : shortcut for read product by Id                ");        helpTable.addCell(" 4.  Press    u : Update Data                                            ");        helpTable.addCell(" 5.  Press    d : Delete Data                                            ");        helpTable.addCell("     Press    d ⟶#proId : shortcut for delete product by Id              ");        helpTable.addCell(" 6.  Press    1 : Display First Page                                     ");        helpTable.addCell(" 7.  Press    2 : Display Next Page                                      ");        helpTable.addCell(" 8.  Press    3 : Display Previous Page                                  ");        helpTable.addCell(" 9.  Press    4 : Display Last Page                                      ");        helpTable.addCell(" 9.  Press    5 : Goto  Page                                             ");        helpTable.addCell(" 9.  Press    4 : Display Last Page                                      ");        helpTable.addCell(" 10. Press    s : Search Products By Name                                ");        helpTable.addCell(" 11. Press    h : Help                                                   ");        helpTable.addCell(" 12. Press    e : Exit                                                   ");        System.out.println(helpTable.render());    }    private Date parseDate(String dateString) {        try {            return new SimpleDateFormat("yyyy-MM-dd").parse(dateString);        } catch (ParseException e) {            System.out.println("Invalid date format. Using current date.");            return new Date();        }    }    private String formatDate(Date date) {        return new SimpleDateFormat("yyyy-MM-dd").format(date);    }}